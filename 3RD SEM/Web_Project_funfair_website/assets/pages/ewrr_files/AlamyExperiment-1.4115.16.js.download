function DoVariation(e,i,r){var a,o,c;if(IsEditorial){if(0==IsEditorialAndPersonalUseOnly&&0==r)return;o=r,c=r+1,0==IsEditorialAndPersonalUseOnly&&(o--,c--),a=e.editorialLicenseId}else o=i,c=i+1,a=IsRF?e.rfLicenseId:e.rmLicenseId;var l=$(".divPopularPrice[idx="+c+"]");if(IsUkVATEnabled&&""!=e.vatIncludedPrice&&(e.price=e.vatIncludedPrice),""!=e.price){if(null!=imageHeader.discount&&imageHeader.discount>0){var s=parseFloat(e.price),n=s-s*imageHeader.discount/100;l.find(".showLicPric").html(e.currency+" "+n.toFixed(2)+"<br><s>"+e.currency+" "+e.price+"</s>")}else l.find(".showLicPric").text(e.currency+" "+e.price);l.find(".showLicPric").attr("basePrice",e.price)}""!=e.licenseTitle&&l.find(".lbloptions").text(e.licenseTitle),""!=e.licenseDescription&&l.find(".icon-tool-tip-questionmark").attr("data-content",e.licenseDescription),"object"!=typeof objCurrencyPrice&&(objCurrencyPrice=$.parseJSON(objCurrencyPrice)),""!=e.currency&&(objCurrencyPrice[o].Currency.Symbol=e.currency),""!=e.price&&(objCurrencyPrice[o].Price=e.price),""!=a&&(objCurrencyPrice[o].LicenseId=a),""!=e.licenseTitle&&(objCurrencyPrice[o].licenseTitle=e.licenseTitle),""!=e.licenseDescription&&(objCurrencyPrice[o].licenseDescription=e.licenseDescription),(e.defaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==a.toLowerCase())&&SelectPopularPrice(c.toString())}function RenderNewPopularLicense(e,i,r){var a,o;if(o=r+1,IsEditorial){if(0==IsEditorialAndPersonalUseOnly&&0==r)return;0==IsEditorialAndPersonalUseOnly?(o-=3,r-=3):(o-=2,r-=2),i.LicenseId=e.editorialLicenseId.toLowerCase()}else IsRF?i.LicenseId=e.rfLicenseId.toLowerCase():i.LicenseId=e.rmLicenseId.toLowerCase();a=i.LicenseId,IsUkVATEnabled&&""!=e.vatIncludedPrice&&(e.price=e.vatIncludedPrice,i.Price=e.price),"object"!=typeof objCurrencyPrice&&(objCurrencyPrice=$.parseJSON(objCurrencyPrice)),objCurrencyPrice.push(i),(e.defaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==a.toLowerCase())&&($(".divPopularPrice").removeClass("bg-light-grey"),$(".divPopularPrice").find(".optionsRadios").removeAttr("checked"),$(".divPopularPrice").find(".lbloptions").removeClass("bold"),$(".divPopularPrice").find(".showLicPric").removeClass("bold"));var c="";if(null!=imageHeader.discount&&imageHeader.discount>0){var l=parseFloat(e.price),s=l-l*imageHeader.discount/100;c=e.currency+" "+s.toFixed(2)+"<br><s>"+e.currency+" "+e.price+"</s>"}else c=e.currency+" "+e.price;var n="<div class='divPopularPrice bs-b bw-1 b-lg pt-10 pb-10 cursor-pointer pl-5 pr-5' idx='"+o+"'><div class='row m-0'><div class='col-md-9 col-sm-9 col-xs-8 radio m-0 '><label><input value='optionsRadios' name='UC_ImageDetailsV2$UC_PopularPrice$RptPopularPrice$ctl0"+o+"$optionsRadios' type='radio' id='UC_ImageDetailsV2_UC_PopularPrice_RptPopularPrice_optionsRadios_"+r+"' class='optionsRadios cursor-pointer hidden-print'><span class='lbloptions'>"+e.licenseTitle+" </span><i class='icon-tool-tip-questionmark h7-size light-navy ' data-trigger='hover' data-content='"+e.licenseDescription+"' data-original-title='' title=''></i></label></div><div class=' col-md-3 col-sm-3 col-xs-4 text-right p-0'><span class='showLicPric demo-only-class'>"+c+"</span></div></div></div>";if($(".divPopularPrice.Magazinesandbooks").after(n),e.defaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==a.toLowerCase()){$("input:radio[value=optionsRadios]");SelectPopularPrice(o.toString())}}function DoVariationV2(e,i){if(usTestIsActive=!0,$("#downloadpack-link").length>0&&$("#downloadpack-link").remove(),$(".save-with-dlPack").hasClass("hidden")||$(".save-with-dlPack").removeClass("show").addClass("hidden"),$(".divPopularPrice").length>0&&$(".divPopularPrice").remove(),$("#rm-custom-panel").length>0&&$("#rm-custom-panel").hide(),$("#rf-custom-panel").length>0&&$("#rf-custom-panel").hide(),$("#popular-heading-hr").length>0&&$("#popular-heading-hr").hide(),$(".save-with-dlPack").length>0&&$(".save-with-dlPack").hide(),$(".need-print-holder").length>0&&$(".need-print-holder").hide(),$("#lnkAddtoCart_disabled").addClass("disabled").off("click"),$("#lnkAddtoCart").addClass("disabled").off("click"),i){if($("#viewcart").parent().hide().addClass("hidden"),$("#btnAddtoCart").parent().hide().addClass("hidden"),SelectdlPackPopularPrice(1),$(".dl-choose-another-lic").length>0){if(""!=e.pageUrl&&""!=e.linkText){var r='<a id="downloadpack-link" href="javascript:void(0);">'+e.linkText+"</a>";$(".dl-choose-another-lic").before(r),$("#downloadpack-link").off("click").on("click",DownloadPackLink)}$(".dl-choose-another-lic").hide()}}else{var a="";if(""!=e.licenseHeader&&""!=e.fileSizePixel&&""!=e.fileSizeCM&&""!=e.fileSizeMB&&(a+='<div class="col-md-12 col-sm-12 col-xs-12 h18 pull-left">'+e.licenseHeader+'</div><div class="col-md-12 col-sm-12 mb-5 h7-size mt-10"><div>',a+='<span class="bold">'+e.fileSize+":</span>&nbsp; "+e.fileSizePixel+" px | "+e.fileSizeCM,a+='</div><div><span class="bold">'+e.printSize+":</span>&nbsp; "+e.fileSizeMB+"</div></div>"),""!=e.download){var o='<div class="col-md-6 col-sm-12 col-xs-12 mt-10  mob-mt-8"><button type="button" id="btnBuyNwPack" class="btn btn-download-red btn-lg btn-block de-h7-size"><i class="icon-download relative h15-size m-0"></i> '+e.download+"<br></button></div>";$("#popular-heading").length>0&&$("#popular-heading").html(a),$("#viewcart").parent().hide().addClass("hidden"),$("#btnAddtoCart").parent().hide().addClass("hidden"),$("#btnBuyNwCusPrice_disabled").hide().addClass("hidden"),$("#btnBuyNwCusPrice").hide().addClass("hidden"),$("#btnBuyNwCusPrice").parent().hide().addClass("hidden"),$("#btnBuyNwCusPrice").parent().before(o),$("#btnBuyNwPack").off("click").on("click",DownloadPackLink)}}}function RenderNewPopularLicenseV2(e,i){var r,a=!1;$(".divPopularPrice").length>0&&$(".divPopularPrice").remove();for(var o=e.length-1;o>=0;o--){r=o+1,objCurrencyPrice=e;var c=e[o];(c.DefaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==c.LicenseId.toLowerCase())&&($(".divPopularPrice").removeClass("bg-light-grey"),$(".divPopularPrice").find(".optionsRadios").removeAttr("checked"),$(".divPopularPrice").find(".lbloptions").removeClass("bold"),$(".divPopularPrice").find(".showLicPric").removeClass("bold"));var l="";if(null!=imageHeader.discount&&imageHeader.discount>0){var s=parseFloat(c.Price),n=s-s*imageHeader.discount/100;l=c.Currency.Symbol+" "+n.toFixed(2)+"<br><s>"+c.Currency.Symbol+" "+c.Price.toFixed(2)+"</s>"}else l=c.Currency.Symbol+" "+c.Price.toFixed(2);var d="<div class='divPopularPrice bs-b bw-1 b-lg pt-10 pb-10 cursor-pointer pl-5 pr-5' idx='"+r+"'><div class='row m-0'><div class='col-md-9 col-sm-9 col-xs-8 radio m-0 '><label><input value='optionsRadios' name='UC_ImageDetailsV2$UC_PopularPrice$RptPopularPrice$ctl0"+r+"$optionsRadios' type='radio' id='UC_ImageDetailsV2_UC_PopularPrice_RptPopularPrice_optionsRadios_"+i+"' class='optionsRadios cursor-pointer hidden-print'><span class='lbloptions'>"+c.Title+"</span><span class='block h6 light-navy mt-5'>"+c.LongDescription+"</span></label></div><div class=' col-md-3 col-sm-3 col-xs-4 text-right p-0'><span class='showLicPric demo-only-class'>"+l+"</span></div></div></div>";if($("#popular-heading-hr").after(d),c.DefaultSelection&&(""==imageHeader.licenseid||"00000000-0000-0000-0000-000000000000"==imageHeader.licenseid)||imageHeader.licenseid.toLowerCase()==c.LicenseId.toLowerCase()){$("input:radio[value=optionsRadios]");SelectedlicId=imageHeader.licenseid,SelectPopularPrice(r.toString()),a=!0}}a||SelectPopularPrice("1")}function RenderAllNewPopularLicenses(e,i){var r,a=!1;$(".divPopularPrice").length>0&&$(".divPopularPrice").remove();var o="ab-au-variantb";null!=abTestVariant&&null!=abTestVariant&&("C"!=abTestVariant&&"E"!=abTestVariant||(o="ab-au-variantc"));for(var c=e.length-1;c>=0;c--){r=c+1;var l=e[c].Price;IsUkVATEnabled&&null!=e[c].VatIncludedPrice&&""!=e[c].VatIncludedPrice&&(e[c].Price=e[c].VatIncludedPrice),objCurrencyPrice=e;var s=e[c];(s.DefaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==s.LicenseId.toLowerCase())&&($(".divPopularPrice").removeClass("bg-light-grey"),$(".divPopularPrice").find(".optionsRadios").removeAttr("checked"),$(".divPopularPrice").find(".lbloptions").removeClass("bold"));var n="",d=parseFloat(s.Price);if(null!=imageHeader.discount&&imageHeader.discount>0){imageHeader.discount;n=s.Currency.Symbol+" "+d.toFixed(2)+"<br><s>"+s.Currency.Symbol+" "+d.toFixed(2)+"</s>"}else n=s.Currency.Symbol+" "+d.toFixed(2);var t="";""!=s.TitleSuffix&&(t=' <span class="font-12">'+s.TitleSuffix+"</span>");var p='<span class="license-desc h7-size light-navy inline-block"><span class="license-desc-content">'+s.LongDescription+' <span><span class="h7-size bold more-info compare-license">More info</span></span>',u='<div class="divPopularPrice bs-b bw-1 b-lg pt-10 pb-10 cursor-pointer pl-10 pr-15 mobHide bg-light-grey '+s.Title.replace("-","").replace(" ","")+" "+o+'" idx="'+r+'"><div class="row m-0"><div class="col-md-9 col-sm-9 col-xs-8 radio m-0 "><label><input value="optionsRadios" name="UC_ImageDetailsV2$UC_PopularPrice$RptPopularPrice$ctl0" + idx + "$optionsRadios" type="radio" id="UC_ImageDetailsV2_UC_PopularPrice_RptPopularPrice_optionsRadios_"'+r+'" class="optionsRadios cursor-pointer hidden-print"><span class="lbloptions bold" data-package="'+s.Title+'">'+s.Title+t+"</span> "+p+'</label></div><div class=" col-md-3 col-sm-3 col-xs-4 text-right p-0"><span id="automationPackagePrice'+c+'" class="showLicPric demo-only-class bold" baseprice="'+l+'">'+n+"</span></div></div></div>";if($("#popular-heading-hr").after(u),s.DefaultSelection&&(""==imageHeader.licenseid||"00000000-0000-0000-0000-000000000000"==imageHeader.licenseid)||imageHeader.licenseid.toLowerCase()==s.LicenseId.toLowerCase()){$("input:radio[value=optionsRadios]");SelectedlicId=imageHeader.licenseid,SelectPopularPrice(r.toString()),a=!0}}a||SelectPopularPrice("1"),$(".popular-lic-section").append('<div class="exp-license-wrapper pr-15 b-lg bw-1 bs-b bold text-center"><a id="compare-license" class="compare-license" style="text-decoration: none !important;" href="#"><b>Which is right for me?</b></a></div>'),IsRF?$("#collapsepanel2").addClass("text-center").html('<span>Royalty-free options</span><i id="icon1" class="ml-10"></i>'):$("#collapsepanel").addClass("text-center").html('<span>Other options</span><i id="icon1" class="ml-10"></i>'),$(document).on("click",".compare-license",function(){return objGTM.setValues("Label Click on Compare Panel","ComparepanelClick",""),$("#compare-license").blur(),$(".compare-license-popup, .compare-popup-bg").addClass("show"),!1}),$(document).on("click",".compare-popup-bg, .compare-license-popup .handler.icon-close",function(){return $(".compare-license-popup, .compare-popup-bg").removeClass("show"),!1}),$(document).on("keyup",function(e){if(27!==e.keyCode)return!1;$(".compare-license-popup, .compare-popup-bg").removeClass("show")})}function DoVariationForVector(e,i){var r,a;a=i+1,r=e.rfLicenseId;var o=$(".divPopularPrice[idx="+a+"]");if(null!=o&&null!=o&&o.length>0){if(IsUkVATEnabled&&""!=e.vatIncludedPrice&&(e.price=e.vatIncludedPrice),""!=e.price){if(null!=imageHeader.discount&&imageHeader.discount>0){var c=parseFloat(e.price),l=c-c*imageHeader.discount/100;o.find(".showLicPric").html(e.currency+" "+l.toFixed(2)+"<br><s>"+e.currency+" "+e.price+"</s>")}else o.find(".showLicPric").text(e.currency+" "+e.price);o.find(".showLicPric").attr("basePrice",e.price)}""!=e.licenseTitle&&o.find(".lbloptions").text(e.licenseTitle),"object"!=typeof objCurrencyPrice&&(objCurrencyPrice=$.parseJSON(objCurrencyPrice)),""!=e.currency&&(objCurrencyPrice[i].Currency.Symbol=e.currency),""!=e.price&&(objCurrencyPrice[i].Price=e.price),""!=r&&(objCurrencyPrice[i].LicenseId=r),(e.defaultSelection&&""==imageHeader.licenseid||imageHeader.licenseid.toLowerCase()==r.toLowerCase())&&SelectPopularPrice(a.toString())}}